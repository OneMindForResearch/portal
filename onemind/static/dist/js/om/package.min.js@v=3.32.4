/*
 * (c) 2018 One Mind
 * 2018-07-25 5:35:48 PM
 */

$("#submit_for_review").on("click",function(e){var a=$(this);e.preventDefault(),bootbox.confirm("When submitting for review, you will no longer be able to make changes to this package. Are you sure you want to submit to the Catalog for review?",function(e){e&&$.get(ONEMIND_ROOT_URL+"/static/terms/publisher_terms.html").done(function(e){bootbox.dialog({message:e,title:"Publisher - Terms and Conditions",buttons:{main:{label:"I Don't Agree",className:"btn-link",callback:function(){}},success:{label:"I Agree to the Terms and Conditions",className:"btn-primary",callback:function(){window.location.href=a.prop("href")}}},className:"terms-modal",backdrop:"static"})})})}),$(".yt-video").on("click",function(){var e=$(this).data("id");bootbox.dialog({title:'<i class="fa fa-play-circle" aria-hidden="true"></i> Video',message:'<iframe width="560" height="315" src="https://www.youtube.com/embed/'+e+'" frameborder="0" allowfullscreen></iframe>',buttons:{dismiss:{label:"Cancel",className:"btn-link",callback:function(){}}}})}),$(document).on("click","#pkg-s3-data",function(){var o=$(this),e=o.data("package-name");o.prop("disabled",!0),OM.loadingSpinnerUI.show("Loading"),$.ajax({type:"GET",url:ONEMIND_CATALOG_CONTROLLER+"get_s3_package",dataType:"json",data:{name:e}}).done(function(e){var a=e;$("#pkg-s3-download").attr("href",a.url),$("#pkg-s3-download")[0].click(),humane.waitForMove=!0,humane.timeout=3800,humane.log("<p>Download started...</p>"),o.prop("disabled",!1),OM.loadingSpinnerUI.hide()}).fail(function(){humane.waitForMove=!0,humane.timeout=3800,humane.log("<p>Error, could not retrieve data...</p>"),o.prop("disabled",!1),OM.loadingSpinnerUI.hide()})});